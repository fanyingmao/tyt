var LoadingPanel=function(t){function e(){t.call(this),this.bg=new egret.Sprite,this.w=0,this.h=0}__extends(e,t);var i=(__define,e),n=i.prototype;return n.createView=function(){this.w=egret.MainContext.instance.stage.stageWidth,this.h=egret.MainContext.instance.stage.stageHeight,this.bg.graphics.beginFill(3223857,1),this.bg.graphics.drawRect(0,0,this.w,this.h),this.bg.graphics.endFill(),this.bg.width=this.w,this.bg.height=this.h,this.addChild(this.bg),this.touchEnabled=!0,this.pgBg=new egret.Bitmap,this.pgBg.texture=RES.getRes("loading_bg"),this.pgBg.x=(this.w-this.pgBg.width)/2,this.pgBg.y=(this.h-this.pgBg.height)/2,this.addChild(this.pgBg),this.pgBar=new egret.Bitmap,this.pgBar.texture=RES.getRes("loading_bar"),this.pgBar.x=this.pgBg.x,this.pgBar.y=this.pgBg.y,this.addChild(this.pgBar),this.widthOfPgBar=this.pgBar.width,this.pgBar.width=0,this.textField=new ETextField,this.textField.size=24,this.textField.textColor=16777215,this.textField.bold=!0,this.textField.stroke=1,this.textField.strokeColor=0,this.addChild(this.textField),this.textField.width=100,this.textField.x=this.w/2-this.textField.width/2,this.textField.y=this.h/2-this.textField.height/2-10,this.textField.textAlign="center",this.textField.setText("0%"),this.logoImage=new egret.Bitmap,this.logoImage.texture=RES.getRes("logo"),this.logoImage.x=(this.w-this.logoImage.width)/2,this.logoImage.y=0,this.addChild(this.logoImage)},n.setProgress=function(t,e){var i=Math.round(t/e*100);i=parseInt(i+""),window.beeGame.load.move(i)},e}(egret.Sprite);egret.registerClass(LoadingPanel,"LoadingPanel");var VerticalTipsPanel=function(t){function e(e){void 0===e&&(e=!1),t.call(this),this.bg=new egret.Sprite,this.w=0,this.h=0,this.needExchange=!1,this.needExchange=e,this.createView()}__extends(e,t);var i=(__define,e),n=i.prototype;return n.createView=function(){this.w=egret.MainContext.instance.stage.stageWidth,this.h=egret.MainContext.instance.stage.stageHeight,this.textField=new egret.TextField,this.textField.size=36,this.textField.textColor=16777215,this.textField.bold=!0,this.textField.stroke=1,this.textField.strokeColor=0,this.addChild(this.textField),this.textField.width=480,this.textField.textAlign="center",this.textField.text="亲，请开启手机横屏体验哦！",this.needExchange?(this.textField.x=4,this.textField.y=this.h/2-this.textField.height/2-10):(this.textField.x=this.w/2-this.textField.width/2,this.textField.y=this.h/2-this.textField.height/2-10)},e}(egret.Sprite);egret.registerClass(VerticalTipsPanel,"VerticalTipsPanel");var WaitPanel=function(t){function e(e){switch(void 0===e&&(e=1),t.call(this),this.bg=new egret.Sprite,this.cartoonType="loadingCircle1",this.w=0,this.h=0,e){case 1:this.cartoonType="loadingCircle1";break;case 2:this.cartoonType="loadingCircle2"}this.mySheet=RES.getRes("reward"),this.createView()}__extends(e,t);var i=(__define,e),n=i.prototype;return n.createView=function(){this.w=egret.MainContext.instance.stage.stageWidth,this.h=egret.MainContext.instance.stage.stageHeight,this.bg.graphics.beginFill(0,.2),this.bg.graphics.drawRect(0,0,this.w,this.h),this.bg.graphics.endFill(),this.bg.width=this.w,this.bg.height=this.h,this.addChild(this.bg),this.touchEnabled=!0,this.waitImg=new egret.Bitmap,this.waitImg.anchorOffsetX=.5*this.waitImg.width,this.waitImg.anchorOffsetY=.5*this.waitImg.height,this.waitImg.texture=RES.getRes(this.cartoonType),this.waitImg.x=this.w/2,this.waitImg.y=this.h/2,this.addChild(this.waitImg),EffectUtils.rotationEffect(this.waitImg,1e3)},e}(egret.Sprite);egret.registerClass(WaitPanel,"WaitPanel");var ShareIconRender=function(t){function e(){t.call(this),this.titleTF=new egret.TextField,this.weixinTF=new egret.TextField,this.qqzoneTF=new egret.TextField,this.sinaweiboTF=new egret.TextField,this.qqTF=new egret.TextField,this.renrenTF=new egret.TextField,this.qqweiboTF=new egret.TextField,this.doubanTF=new egret.TextField,this.assets=RES.getRes("socialIcon"),this.bg=new egret.Sprite,this.w=0,this.h=0,this.w=GameConfig.curWidth(),this.h=GameConfig.curHeight(),this.init()}__extends(e,t);var i=(__define,e),n=i.prototype;return n.init=function(){this.bg.graphics.beginFill(16777215,.9),this.bg.graphics.drawRect(0,0,this.w,300),this.bg.graphics.endFill(),this.bg.width=this.w,this.bg.height=300,this.addChild(this.bg),this.bg.alpha=1,this.bg.touchEnabled=!0,this.titleTF.size=24,this.titleTF.textColor=0,this.titleTF.text="分享到",this.titleTF.x=this.w/2-this.titleTF.width/2,this.titleTF.y=10,this.titleTF.bold=!0,this.titleTF.textAlign=egret.HorizontalAlign.CENTER,this.addChild(this.titleTF);var t=40,e=130;this.weixinBtn=new EButton(this,"weixin",null,"",30,1,"socialIcon"),this.weixinBtn.x=20,this.weixinBtn.y=t,this.addChild(this.weixinBtn),this.weixinBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onWeixinBtnTouchTap,this),this.qqzoneBtn=new EButton(this,"qqzone",null,"",30,1,"socialIcon"),this.qqzoneBtn.x=this.weixinBtn.x+this.qqzoneBtn.width+20,this.qqzoneBtn.y=t,this.addChild(this.qqzoneBtn),this.qqzoneBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onQQzoneBtnTouchTap,this),this.sinaweiboBtn=new EButton(this,"sinaweibo",null,"",30,1,"socialIcon"),this.sinaweiboBtn.x=this.qqzoneBtn.x+this.sinaweiboBtn.width+20,this.sinaweiboBtn.y=t,this.addChild(this.sinaweiboBtn),this.sinaweiboBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onSinaweiboBtnTouchTap,this),this.qqBtn=new EButton(this,"qq",null,"",30,1,"socialIcon"),this.qqBtn.x=this.sinaweiboBtn.x+this.qqBtn.width+20,this.qqBtn.y=t,this.addChild(this.qqBtn),this.qqBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onQQBtnTouchTap,this),this.renrenBtn=new EButton(this,"renren",null,"",30,1,"socialIcon"),this.renrenBtn.x=this.qqBtn.x+this.renrenBtn.width+20,this.renrenBtn.y=t,this.addChild(this.renrenBtn),this.renrenBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onRenrenBtnTouchTap,this),this.qqweiboBtn=new EButton(this,"qqweibo",null,"",30,1,"socialIcon"),this.qqweiboBtn.x=20,this.qqweiboBtn.y=e,this.addChild(this.qqweiboBtn),this.qqweiboBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onQQweiboBtnTouchTap,this),this.doubanBtn=new EButton(this,"douban",null,"",30,1,"socialIcon"),this.doubanBtn.x=this.qqweiboBtn.x+this.doubanBtn.width+20,this.doubanBtn.y=e,this.addChild(this.doubanBtn),this.doubanBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onDoubanBtnTouchTap,this);var i=16;this.weixinTF.size=i,this.weixinTF.textColor=0,this.weixinTF.text="微信",this.weixinTF.x=this.weixinBtn.x+this.weixinBtn.width/2-this.weixinTF.width/2,this.weixinTF.y=t+this.weixinBtn.height,this.weixinTF.textAlign=egret.HorizontalAlign.CENTER,this.addChild(this.weixinTF),this.qqzoneTF.size=i,this.qqzoneTF.textColor=0,this.qqzoneTF.text="QQ空间",this.qqzoneTF.x=this.qqzoneBtn.x+this.qqzoneBtn.width/2-this.qqzoneTF.width/2,this.qqzoneTF.y=t+this.qqzoneBtn.height,this.qqzoneTF.textAlign=egret.HorizontalAlign.CENTER,this.addChild(this.qqzoneTF),this.sinaweiboTF.size=i,this.sinaweiboTF.textColor=0,this.sinaweiboTF.text="新浪微博",this.sinaweiboTF.x=this.sinaweiboBtn.x+this.sinaweiboBtn.width/2-this.sinaweiboTF.width/2,this.sinaweiboTF.y=t+this.sinaweiboBtn.height,this.sinaweiboTF.textAlign=egret.HorizontalAlign.CENTER,this.addChild(this.sinaweiboTF),this.qqTF.size=i,this.qqTF.textColor=0,this.qqTF.text="QQ好友",this.qqTF.x=this.qqBtn.x+this.qqBtn.width/2-this.qqTF.width/2,this.qqTF.y=t+this.qqBtn.height,this.qqTF.textAlign=egret.HorizontalAlign.CENTER,this.addChild(this.qqTF),this.renrenTF.size=i,this.renrenTF.textColor=0,this.renrenTF.text="人人网",this.renrenTF.x=this.renrenBtn.x+this.renrenBtn.width/2-this.renrenTF.width/2,this.renrenTF.y=t+this.renrenBtn.height,this.renrenTF.textAlign=egret.HorizontalAlign.CENTER,this.addChild(this.renrenTF),this.qqweiboTF.size=i,this.qqweiboTF.textColor=0,this.qqweiboTF.text="QQ微博",this.qqweiboTF.x=this.qqweiboBtn.x+this.qqweiboBtn.width/2-this.qqweiboTF.width/2,this.qqweiboTF.y=e+this.qqweiboBtn.height,this.qqweiboTF.textAlign=egret.HorizontalAlign.CENTER,this.addChild(this.qqweiboTF),this.doubanTF.size=i,this.doubanTF.textColor=0,this.doubanTF.text="豆瓣广播",this.doubanTF.x=this.doubanBtn.x+this.doubanBtn.width/2-this.doubanTF.width/2,this.doubanTF.y=e+this.doubanBtn.height,this.doubanTF.textAlign=egret.HorizontalAlign.CENTER,this.addChild(this.doubanTF)},n.onWeixinBtnTouchTap=function(){Global.dispatchEvent(MainNotify.updateShareNotify,"micromessenger")},n.onQQzoneBtnTouchTap=function(){Global.dispatchEvent(MainNotify.updateShareNotify,"qzone")},n.onSinaweiboBtnTouchTap=function(){Global.dispatchEvent(MainNotify.updateShareNotify,"weibo")},n.onQQBtnTouchTap=function(){Global.dispatchEvent(MainNotify.updateShareNotify,"qq")},n.onRenrenBtnTouchTap=function(){Global.dispatchEvent(MainNotify.updateShareNotify,"renren")},n.onQQweiboBtnTouchTap=function(){Global.dispatchEvent(MainNotify.updateShareNotify,"txmicroblog")},n.onDoubanBtnTouchTap=function(){Global.dispatchEvent(MainNotify.updateShareNotify,"douban")},e}(egret.DisplayObjectContainer);egret.registerClass(ShareIconRender,"ShareIconRender");var EButton=function(t){function e(e,i,n,a,s,r,o){void 0===n&&(n=null),void 0===a&&(a=""),void 0===s&&(s=30),void 0===r&&(r=1),void 0===o&&(o="assets"),t.call(this),this.assets=RES.getRes("assets"),this.isPlayCartoon=!1,this.cartoonType=1,this.param={context:null,data:null},this.param.context=e,this.init(i,n,a,s,r,o)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.init=function(t,e,i,n,a,s){void 0===e&&(e=null),void 0===i&&(i=""),void 0===n&&(n=30),void 0===a&&(a=1),void 0===s&&(s="assets"),this.cartoonType=a,this.backFun=e,this.btnImg=new egret.Bitmap,null==s?this.btnImg.texture=RES.getRes(t):("assets"!=s&&(this.assets=RES.getRes(s)),this.btnImg.texture=this.assets.getTexture(t)),this.addChild(this.btnImg),""!=i&&(this.textField=new egret.TextField,this.addChild(this.textField),this.textField.size=n,this.textField.textAlign="center",this.textField.stroke=1,this.textField.strokeColor=0,this.textField.text=i,this.textField.width=this.btnImg.width,this.textField.x=this.btnImg.width/2-this.textField.width/2,this.textField.y=this.btnImg.height/2-this.textField.height/2),this.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onbuttonTouchTap,this)},n.onbuttonTouchTap=function(t){if(!this.isPlayCartoon){this.isPlayCartoon=!0;var e=function(){this.isPlayCartoon=!1},i=function(){1==this.cartoonType?egret.Tween.get(this).to({scaleX:1,scaleY:1,x:this.x-this.btnImg.width/4,y:this.y-this.btnImg.height/4},500,egret.Ease.elasticOut).call(e,this):2==this.cartoonType?egret.Tween.get(this).to({scaleX:1,scaleY:1,x:this.x-this.btnImg.width/4,y:this.y-this.btnImg.height/4},500,egret.Ease.backOut).call(e,this):3==this.cartoonType&&egret.Tween.get(this).to({scaleX:1,scaleY:1,x:this.x-this.btnImg.width/4,y:this.y-this.btnImg.height/4},100).call(e,this)};egret.Tween.get(this).to({scaleX:.5,scaleY:.5,x:this.x+this.btnImg.width/4,y:this.y+this.btnImg.height/4},100,egret.Ease.sineIn).call(i,this),egret.setTimeout(function(){null!=this.backFun&&this.backFun(this.param)},this,300)}},n.setBindData=function(t){this.param.data=t},n.getBindData=function(){return this.param.data},n.getBitmap=function(){return this.btnImg},e}(egret.DisplayObjectContainer);egret.registerClass(EButton,"EButton");var ETextField=function(t){function e(){t.call(this)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.setText=function(t){void 0===t&&(t="");var e=new egret.HtmlTextParser;this.textFlow=e.parser(t)},e}(egret.TextField);egret.registerClass(ETextField,"ETextField");var EToggleSwitch=function(t){function e(e,i,n,a,s,r){void 0===i&&(i=""),void 0===n&&(n=""),void 0===a&&(a=""),void 0===s&&(s=null),void 0===r&&(r="assets"),t.call(this),this.assets=RES.getRes("assets"),this.isPlayCartoon=!1,this.isSelected=!1,this.switchOffName="",this.switchOnName="",this.switchBarName="",this.param={context:null,data:null},this.param.context=e,this.switchOffName=i,this.switchOnName=n,this.switchBarName=a,this.init(s,r)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.init=function(t,e){void 0===t&&(t=null),void 0===e&&(e="assets"),this.backFun=t,this.switchOffImg=new egret.Bitmap,this.switchOnImg=new egret.Bitmap,this.switchBarImg=new egret.Bitmap,"assets"!=e&&(this.assets=RES.getRes(e)),this.switchOffImg.texture=this.assets.getTexture(this.switchOffName),this.addChild(this.switchOffImg),this.switchOnImg.texture=this.assets.getTexture(this.switchOnName),this.addChild(this.switchOnImg),this.switchOnImg.alpha=0,this.switchBarImg.texture=this.assets.getTexture(this.switchBarName),this.switchBarImg.x=5,this.switchBarImg.y=this.switchOffImg.height/2-this.switchBarImg.height/2+4,this.addChild(this.switchBarImg),this.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onbuttonTouchTap,this)},n.onbuttonTouchTap=function(t){if(!this.isPlayCartoon){this.isPlayCartoon=!0;var e=function(){this.isPlayCartoon=!1,this.isSelected=!this.isSelected,null!=this.backFun&&this.backFun(this.param)};this.isSelected?(egret.Tween.get(this.switchBarImg).to({x:5},400).call(e,this),egret.Tween.get(this.switchOffImg).to({alpha:1},400),egret.Tween.get(this.switchOnImg).to({alpha:0},400)):(egret.Tween.get(this.switchBarImg).to({x:this.switchOffImg.width-this.switchBarImg.width-6},400).call(e,this),egret.Tween.get(this.switchOffImg).to({alpha:0},400),egret.Tween.get(this.switchOnImg).to({alpha:1},400))}},n.setBindData=function(t){this.param.data=t},n.getBindData=function(){return this.param.data},n.getSelected=function(){return this.isSelected},e}(egret.DisplayObjectContainer);egret.registerClass(EToggleSwitch,"EToggleSwitch");var HtmlText=function(t){function e(e,i,n,a,s){void 0===i&&(i=30),void 0===n&&(n=!1),void 0===a&&(a=0),void 0===s&&(s=0),t.call(this),this.tfArr=[],this.setData(e,i,n,a,s)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.setData=function(t,e,i,n,a){void 0===e&&(e=30),void 0===i&&(i=!1),void 0===n&&(n=0),void 0===a&&(a=0);for(var s=this.tfArr.length,r=0;s>r;r++)this.removeChild(this.tfArr[r]);this.tfArr=[];for(var o=0,h=0,l=t.length,r=0;l>r;r++){var c=t[r];null==c[0]&&(c[0]=""),null==c[1]&&(c[1]=16777215),null==c[2]&&(c[2]=e),null==c[3]&&(c[3]=!1),null==c[4]&&(c[4]=1),null==c[5]&&(c[5]=0);var g=new egret.TextField;this.addChild(g),g.text=c[0],g.textColor=c[1],g.size=c[2],g.bold=c[3],g.stroke=c[4],g.strokeColor=c[5],g.x=o,o+=g.width,this.tfArr[r]=g,h<g.height&&(h=g.height)}for(var r=0;l>r;r++){var d=this.tfArr[r];d.y=h-d.height}},e}(egret.DisplayObjectContainer);egret.registerClass(HtmlText,"HtmlText");var TipsManager;!function(t){function e(t,e,i){void 0===e&&(e=""),void 0===i&&(i=0),null==this._dict&&(this._dict=[]),t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.showTips,this),t.addEventListener(egret.TouchEvent.TOUCH_END,this.removeTips,this),t.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.removeTips,this),null==this._dict[t.hashCode]&&(this._dict[t.hashCode]=[],this._dict[t.hashCode].descStr=e,this._dict[t.hashCode].effectType=i)}function i(t){var e=t.currentTarget,i="",n=0;if(null==this._tips){null!=this._dict[e.hashCode]&&(i=this._dict[e.hashCode].descStr,n=this._dict[e.hashCode].effectType),this._tips=new TipsPanel(this._dict[e.hashCode].descStr),GameConfig.gameScene().topLayer.contains(this._tips)||GameConfig.gameScene().topLayer.addChild(this._tips);var a=e.parent.localToGlobal(e.x,e.y);switch(a.x=a.x+e.width/2,a.y=a.y-this._tips.height,a.x+this._tips.width>GameConfig.curWidth()?a.x=GameConfig.curWidth()-this._tips.width:a.x<0&&(a.x=0),a.y+this._tips.height>GameConfig.curHeight()?a.y=GameConfig.curHeight()-this._tips.height:a.y<0&&(a.y=0),this._tips.x=a.x,this._tips.y=a.y,n){case 0:this._tips.alpha=0,egret.Tween.get(this._tips).to({alpha:1},300);break;case 1:this._tips.alpha=0,this._tips.y+=this._tips.height,egret.Tween.get(this._tips).to({alpha:1,y:this._tips.y-this._tips.height},500,egret.Ease.backOut);break;case 2:this._tips.alpha=0,this._tips.x-=this._tips.width,egret.Tween.get(this._tips).to({alpha:1,x:this._tips.x+this._tips.width},500,egret.Ease.backOut);break;case 3:this._tips.alpha=0,this._tips.x+=this._tips.width,egret.Tween.get(this._tips).to({alpha:1,x:this._tips.x-this._tips.width},500,egret.Ease.backOut)}}}function n(t){t.currentTarget;if(null!=this._tips){var e=function(){GameConfig.gameScene().topLayer.contains(this._tips)&&(GameConfig.gameScene().topLayer.removeChild(this._tips),this._tips=null)};egret.Tween.get(this._tips).to({alpha:0},300).call(e,this)}}t.addTips=e,t.showTips=i,t.removeTips=n}(TipsManager||(TipsManager={}));var BasePanel=function(t){function e(e,i){void 0===e&&(e="assets"),void 0===i&&(i=null),t.call(this),this.w=0,this.h=0,this.assets=RES.getRes(e),this.w=GameConfig.curWidth(),this.h=GameConfig.curHeight(),this.initPanel(i)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.initPanel=function(t){},n.initData=function(){},n.onEnter=function(){},n.onExit=function(){},n.closePanel=function(){PopUpManager.removePopUp(this)},n.getWidth=function(){return this.width},n.getHeight=function(){return this.height},e}(egret.DisplayObjectContainer);egret.registerClass(BasePanel,"BasePanel");var TipsPanel=function(t){function e(e){void 0===e&&(e=""),t.call(this),this.descStr="",this.descStr=e,this.initUI()}__extends(e,t);var i=(__define,e),n=i.prototype;return n.initUI=function(){this.bg=new egret.Bitmap,this.bg.texture=this.assets.getTexture("tipsBg"),this.addChild(this.bg),this.bg.touchEnabled=!0,this.descTF=new egret.TextField,this.addChild(this.descTF),this.descTF.textColor=0,this.descTF.size=20,this.descTF.x=5,this.descTF.textAlign="center",this.descTF.text=this.descStr;var t=new egret.Rectangle(5,5,5,5);this.bg.scale9Grid=t,this.bg.width=this.descTF.width+10,this.bg.height=3*this.descTF.height,this.descTF.y=this.bg.height/2-this.descTF.height/2+2},e}(BasePanel);egret.registerClass(TipsPanel,"TipsPanel");var GameConfig;!function(t){function e(){var t=window.navigator.userAgent.toLowerCase(),e=""+t.match(/MicroMessenger/i);return"null"==e?!1:"micromessenger"==e?!0:void 0}function i(){return document.body.clientHeight/document.body.clientWidth>1.4}function n(){var t=window.navigator.userAgent.toLowerCase();""+t.match(/MicroMessenger/i);return""+t.match(/windows nt/i)=="windows nt"?"windows":""+t.match(/iphone/i)=="iphone"?"ios":""+t.match(/android/i)=="android"?"android":""+t.match(/ipad/i)=="ipad"?"ipad":""+t.match(/linux/i)=="linux"?"linux":""+t.match(/mac/i)=="mac"?"mac":""+t.match(/ucbrower/i)=="ucbrower"?"ucbrower":void console.log("未知系统类型")}function a(){var t=window.navigator.userAgent.toLowerCase();return""+t.match(/micromessenger/i)=="micromessenger"?"micromessenger":""+t.match(/qzone/i)=="qzone"?"qzone":""+t.match(/weibo/i)=="weibo"?"weibo":""+t.match(/qq/i)=="qq"?"qq":""+t.match(/renren/i)=="renren"?"renren":""+t.match(/txmicroblog/i)=="txmicroblog"?"txmicroblog":""+t.match(/douban/i)=="douban"?"douban":"other"}function s(){return null==this.curScene&&(this.curScene=new GameScene),this.curScene}function r(){return egret.MainContext.instance.stage}function o(){return egret.MainContext.instance.stage.stageWidth}function h(){return egret.MainContext.instance.stage.stageHeight}function l(){var t=document.documentElement.clientWidth,e=document.documentElement.clientHeight;return e>t}t.isDebug=!1,t.isOnLine=navigator.onLine,t.TextColors={white:16777215,milkWhite:16511407,grayWhite:13547170,yellow:16776960,lightYellow:16765813,orangeYellow:16750848,red:15799040,green:58624,blue:1742039,grayBlue:3101047,purple:15284466,pink:16724016,black:3026221,golden:16766720},t.LabelFontSize={littleSize:12,middleSize:18,normalSize:24,bigSize:36},t.isWeiXin=e,t.isBigScreen=i,t.systemType=n,t.platformType=a;t.gameScene=s,t.curStage=r,t.curWidth=o,t.curHeight=h,t.isVertical=l}(GameConfig||(GameConfig={}));var GlobalData;!function(t){t.timeLimit=1e4,t.currentScore=0,t.config_limit=1e4,t.config_level_poleNum=[8,10,15],t.config_level_wolf_poleNum=[5,8,10],t.config_level_speed=[8,7,6,5,4,3],t.message="搜狐畅游赢销 + ",t.bestScore=0,t.rateNum=0,t.isFirstComeIn=!0,t.useTime=0,t.lastTime=0,t.currentTime=0,t.bestTime=0,t.baseNum=1254,t.myCurHP=0,t.myMaxHP=0,t.myStrength=0,t.aiCurHP=0,t["native"]="版权所有 侵权必究 ",t.aiMaxHP=0,t.aiStrength=0,t.rankArr=[],t.title="",t.desc="",t.link="",t.imgUrl="",t.myName="",t.fightName="",t.aiNum=0,t.doubleNum=0,t.isBoss=!1,t.bossName="",t.count="京ICP备08104911号-24",t.myMaxHP=5e3,t.myCurHP=5e3,t.myStrength=1e3,t.aiMaxHP=4e3,t.aiCurHP=4e3,t.aiStrength=1500,t.myAttackNum=0,t.aiAttackNum=0,t.winerNum=0,t.initIsVertical=!1,t.isVerticalGame=!1,t.GridMangerHorizontalPos=0,t.GridWidth=0,t.MoveNeedTime=60,t.JumpHeight=100}(GlobalData||(GlobalData={}));var RES;!function(t){var e=function(e){function i(){e.call(this),this._dataFormat=egret.URLLoaderDataFormat.TEXT}__extends(i,e);var n=(__define,i),a=n.prototype;return a.getRes=function(e){var i=t.AnalyzerBase.getStringTail(e);return this.fileDic[i]},a.analyzeData=function(t,e){if(e)for(var i=e,n=i.split(new RegExp("\r\n","gi")),a=n.length,s=0;a>s;s++){var r=n[s].indexOf("=");r>1&&(this.fileDic[n[s].substring(0,r)]=n[s].substring(r+1))}},i.TYPE="prop",i}(t.BinAnalyzer);t.PropertiesAnalyzer=e,egret.registerClass(e,"RES.PropertiesAnalyzer")}(RES||(RES={}));var Network;!function(Network){function sendInfo(t,e){void 0===t&&(t=""),void 0===e&&(e=""),Global.waitPanel=new WaitPanel(1),GameConfig.gameScene().maskLayer.removeChildren(),GameConfig.gameScene().maskLayer.addChild(Global.waitPanel);var i=new egret.URLLoader;i.dataFormat=egret.URLLoaderDataFormat.TEXT,i.addEventListener(egret.Event.COMPLETE,this.onGetComplete,this);var n=new egret.URLRequest(t);n.method=egret.URLRequestMethod.GET,n.data=new egret.URLVariables(e),i.load(n)}function onGetComplete(event){GameConfig.gameScene().maskLayer.removeChild(Global.waitPanel),Global.waitPanel=null;var loader=event.target;loader.dataFormat=egret.URLLoaderDataFormat.TEXT;var data=loader.data,data2=eval("("+data+")"),notify=loader._eventTarget._request.url;lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent(notify,data2,!1))}Network.sendInfo=sendInfo,Network.onGetComplete=onGetComplete}(Network||(Network={}));var SocketManager;!function(SocketManager){function connectServer(t,e){void 0===t&&(t=""),void 0===e&&(e=80),Global.waitPanel=new WaitPanel(1),GameConfig.gameScene().maskLayer.removeChildren(),GameConfig.gameScene().maskLayer.addChild(Global.waitPanel),this.sock=new egret.WebSocket,this.sock.addEventListener(egret.ProgressEvent.SOCKET_DATA,this.onReceiveMessage,this),this.sock.addEventListener(egret.Event.CONNECT,this.onSocketOpen,this),this.sock.connect(t,e)}function onSocketOpen(){GameConfig.gameScene().maskLayer.removeChild(Global.waitPanel),Global.waitPanel=null}function onReceiveMessage(){GameConfig.gameScene().maskLayer.removeChild(Global.waitPanel),Global.waitPanel=null;var msg=this.sock.readUTF(),data=eval("("+msg+")");lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent(data.cmd,data,!1))}function sendMessage(t){void 0===t&&(t=""),Global.waitPanel=new WaitPanel(1),GameConfig.gameScene().maskLayer.removeChildren(),GameConfig.gameScene().maskLayer.addChild(Global.waitPanel),this.sock.writeUTF(t)}var sock=new egret.WebSocket;SocketManager.connectServer=connectServer,SocketManager.onSocketOpen=onSocketOpen,SocketManager.onReceiveMessage=onReceiveMessage,SocketManager.sendMessage=sendMessage}(SocketManager||(SocketManager={}));var MainNotify;!function(t){t.onOrientationChange="onOrientationChange",t.onDeviceOrientation="onDeviceOrientation",t.onDeviceMotion="onDeviceMotion",t.closeAlertNotify="closeAlertNotify",t.closeShareNotify="closeAlertNotify",t.updateShareNotify="updateShareNotify",t.openStartPanelNotify="openStartPanelNotify",t.closeStartPanelNotify="closeStartPanelNotify",t.openGamePanelNotify="openGamePanelNotify",t.closeGamePanelNotify="closeGamePanelNotify",t.openOverPanelNotify="openOverPanelNotify",t.closeGameOverPanelNotify="closeGameOverPanelNotify",t.restartGamePanelNotify="restartGamePanelNotify",t.openSharePanelNotify="openSharePanelNotify",t.closeSharePanelNotify="closeSharePanelNotify",t.AwakePanel="AwakePanel"}(MainNotify||(MainNotify={}));var conplan=function(t){function e(e,i,n){void 0===e&&(e=""),void 0===i&&(i=2),t.call(this),this.cb=n;var a=egret.MainContext.instance.stage,s=new egret.Shape;s.graphics.beginFill(0,.6),s.graphics.drawRect(0,0,a.stageWidth,a.stageHeight),s.graphics.endFill(),s.alpha=0,s.touchEnabled=!0;var r=new egret.Shape;r.graphics.beginFill(0,1),r.graphics.drawRoundRect(0,0,560,380,60,60),r.graphics.endFill(),r.alpha=.65,r.x=(a.stageWidth-r.width)/2,r.y=.4*(a.stageHeight-r.height);var o=new egret.Shape;o.graphics.beginFill(11316396,1),o.graphics.drawRoundRect(0,0,200,60,20,20),o.graphics.endFill(),o.alpha=.5,o.x=r.x+48;var h=new egret.TextField;h.text="确定",h.size=30,h.x=o.x+(o.width-h.width)/2;var l=new egret.Shape;l.graphics.beginFill(11316396,1),l.graphics.drawRoundRect(0,0,200,60,20,20),l.graphics.endFill(),l.alpha=.5,l.x=r.x+r.width-l.width-48;var c=new egret.TextField;c.text="取消",c.size=30,c.x=l.x+(l.width-c.width)/2,o.y=l.y=r.y+.7*r.height,h.y=c.y=l.y+(l.height-c.height)/2;var g=new egret.TextField;g.width=270;var d=new egret.HtmlTextParser;g.textFlow=d.parser(e),g.size=30,g.lineSpacing=15,g.textAlign="center",g.x=r.x+(r.width-g.width)/2,g.y=r.y+(.7*r.height-g.height)/2,this.addChild(s),this.addChild(r),this.addChild(g),this.addChild(o),this.addChild(l),this.addChild(h),this.addChild(c),1==i&&(l.visible=!1,c.visible=!1,o.x=r.x+(r.width-o.width)/2,h.x=o.x+(o.width-h.width)/2),o.name="left",l.name="right",o.touchEnabled=!0,l.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchStart,this),a.addChild(this)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.onTouchStart=function(t){"left"==t.target.name?this.cb(t.target.name):this.cb("right"),egret.MainContext.instance.stage.removeChild(this)},n.close=function(){this.parent&&egret.MainContext.instance.stage.removeChild(this)},e}(egret.Sprite);egret.registerClass(conplan,"conplan");var EffectUtils;!function(t){function e(t,e){if(void 0===e&&(e=1e3),null==this.rotationArr&&(this.rotationArr=[]),!this.rotationArr[t.hashCode]){null!=this.rotationArr[t.hashCode]&&this.rotationArr[t.hashCode]||(this.rotationArr[t.hashCode]=!0);var i=function(){this.rotationArr[t.hashCode]&&null!=t&&(t.rotation=0,egret.Tween.get(t).to({rotation:360},e).call(i,this))};t.rotation=0,egret.Tween.get(t).to({rotation:360},e).call(i,this)}}function i(){}function n(){TipsUtils.tips(GlobalData.message)}function a(t){null==this.rotationArr&&(this.rotationArr=[]),this.rotationArr[t.hashCode]=!1}function s(t,e){void 0===e&&(e=1e3),new BitmapBlink(t,e)}function r(t){var e=80,i=t.x;egret.Tween.get(t).to({x:t.x-10},e),egret.setTimeout(function(){egret.Tween.get(t).to({x:t.x+20},e)},this,2*e),egret.setTimeout(function(){egret.Tween.get(t).to({x:t.x-20},e)},this,3*e),egret.setTimeout(function(){egret.Tween.get(t).to({x:t.x+20},e)},this,4*e),egret.setTimeout(function(){egret.Tween.get(t).to({x:i},e)},this,5*e)}function o(t){void 0===t&&(t=1);var e=GameConfig.curPanel,i=40,n=e.x,a=e.y;1==t?(egret.Tween.get(e).to({x:e.x-10},i),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x+20},i)},this,2*i),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x-20},i)},this,3*i),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x+20},i)},this,4*i),egret.setTimeout(function(){egret.Tween.get(e).to({x:n},i)},this,5*i)):(egret.Tween.get(e).to({x:e.x-10,y:e.y},i),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x+20,y:e.y},i)},this,2*i),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x,y:e.y+15},i)},this,3*i),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x,y:e.y-20},i)},this,4*i),egret.setTimeout(function(){egret.Tween.get(e).to({x:e.x,y:e.y+10},i)},this,5*i),egret.setTimeout(function(){egret.Tween.get(e).to({x:n,y:a},i)},this,6*i))}function h(t,e,i){switch(void 0===t&&(t=""),void 0===e&&(e=1),void 0===i&&(i=!1),e){case 1:TipsUtils.showTipsDownToUp(t,i);break;case 2:TipsUtils.showTipsLeftOrRight(t,i,!0);break;case 3:TipsUtils.showTipsLeftOrRight(t,i,!1);break;case 4:TipsUtils.showTipsFromCenter(t,i);break;case 5:TipsUtils.showTipsBigToSmall(t,i)}}function l(t,e){if(void 0===e&&(e=1),!this.isPlayEffectPlay){this.isPlayEffectPlay=!0;var i=function(){this.isPlayEffectPlay=!1},n=function(){1==e?egret.Tween.get(t).to({scaleX:1,scaleY:1,x:t.x-t.width/4,y:t.y-t.height/4},500,egret.Ease.elasticOut).call(i,this):2==e?egret.Tween.get(t).to({scaleX:1,scaleY:1,x:t.x-t.width/4,y:t.y-t.height/4},500,egret.Ease.backOut).call(i,this):3==e&&egret.Tween.get(t).to({scaleX:1,scaleY:1,x:t.x-t.width/4,y:t.y-t.height/4},100).call(i,this)};egret.Tween.get(t).to({scaleX:.5,scaleY:.5,x:t.x+t.width/4,y:t.y+t.height/4},100,egret.Ease.sineIn).call(n,this)}}function c(t){var e=function(){if(null!=t){var i=function(){t.scaleX=1,t.scaleY=1,egret.Tween.get(t).to({alpha:1},1e3).call(e,self)};t.alpha=1,egret.Tween.get(t).to({scaleX:1.5,scaleY:1.5,alpha:0},1e3).call(i,self)}};e()}function g(t,e,i){void 0===i&&(i=50);var n=function(){if(null!=t){var a=function(){egret.Tween.get(t).to({y:t.y-i},e).call(n,this)};egret.Tween.get(t).to({y:t.y+i},e).call(a,this)}};n()}function d(t,e,i){void 0===i&&(i=20);var n=function(){if(null!=t){var a=function(){egret.Tween.get(t).to({rotation:-i},e).call(n,this)};egret.Tween.get(t).to({rotation:i},e).call(a,this)}};n()}t.rotationEffect=e,t.init=i,t.getMessage=n,t.removeRotationEffect=a,t.blinkEffect=s,t.shakeObj=r,t.shakeScreen=o,t.showTips=h;t.playEffect=l,t.playScaleEffect=c,t.flyObj=g,t.rockObj=d}(EffectUtils||(EffectUtils={}));var Global;!function(t){function e(t,e,i,n){return void 0===e&&(e=null),void 0===i&&(i=!1),void 0===n&&(n=!1),new lcp.LEvent(t,e,i,n)}function i(t,e,i,n){void 0===e&&(e=null),void 0===i&&(i=!1),void 0===n&&(n=!1);var a=new lcp.LEvent(t,e,i,n);lcp.LListener.getInstance().dispatchEvent(a)}function n(t,e,i,n,a){void 0===n&&(n=!1),void 0===a&&(a=0),lcp.LListener.getInstance().addEventListener(t,e,i,n,a)}function a(t,e,i,n){void 0===n&&(n=!1),lcp.LListener.getInstance().removeEventListener(t,e,i,n)}function s(){null!=this._alert&&(PopUpManager.removePopUp(this._alert,1),this._alert=null)}function r(t){var e=Math.floor(t/1e3),i=t%1e3/10;return 10>i?e+".0"+i:e+"."+i}function o(){function t(t,e){return Math.random()<.5?-1:1}var e=[1,2,3,4,5];return e.sort(t),e}function h(){return null==t._gameConfig&&(t._gameConfig=window.TemplateUtils.getTemplateVars().gameconfig),t._gameConfig}function l(e){t._alert=new conplan(e,1,function(){})}function c(){t._alert&&t._alert.close()}t.Event=e,t.dispatchEvent=i,t.addEventListener=n,t.removeEventListener=a,t.closeAlertPanel=s,t.getTimestr=r,t.getRand=o,t._gameConfig=null,t.InitGameConfig=h,t.showAlert=l,t.closeAlert=c}(Global||(Global={}));var md5=function(){function t(){this.hexcase=0,this.b64pad=""}var e=(__define,t),i=e.prototype;return i.hex_md5=function(t){return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(t)))},i.b64_md5=function(t){return this.rstr2b64(this.rstr_md5(this.str2rstr_utf8(t)))},i.any_md5=function(t,e){return this.rstr2any(this.rstr_md5(this.str2rstr_utf8(t)),e)},i.hex_hmac_md5=function(t,e){return this.rstr2hex(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(e)))},i.b64_hmac_md5=function(t,e){return this.rstr2b64(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(e)))},i.any_hmac_md5=function(t,e,i){return this.rstr2any(this.rstr_hmac_md5(this.str2rstr_utf8(t),this.str2rstr_utf8(e)),i)},i.md5_vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"==this.hex_md5("abc").toLowerCase()},i.rstr_md5=function(t){return this.binl2rstr(this.binl_md5(this.rstr2binl(t),8*t.length))},i.rstr_hmac_md5=function(t,e){var i=this.rstr2binl(t);i.length>16&&(i=this.binl_md5(i,8*t.length));for(var n=Array(16),a=Array(16),s=0;16>s;s++)n[s]=909522486^i[s],a[s]=1549556828^i[s];var r=this.binl_md5(n.concat(this.rstr2binl(e)),512+8*e.length);return this.binl2rstr(this.binl_md5(a.concat(r),640))},i.rstr2hex=function(t){try{this.hexcase}catch(e){this.hexcase=0
}for(var i,n=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",a="",s=0;s<t.length;s++)i=t.charCodeAt(s),a+=n.charAt(i>>>4&15)+n.charAt(15&i);return a},i.rstr2b64=function(t){try{this.b64pad}catch(e){this.b64pad=""}for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="",a=t.length,s=0;a>s;s+=3)for(var r=t.charCodeAt(s)<<16|(a>s+1?t.charCodeAt(s+1)<<8:0)|(a>s+2?t.charCodeAt(s+2):0),o=0;4>o;o++)n+=8*s+6*o>8*t.length?this.b64pad:i.charAt(r>>>6*(3-o)&63);return n},i.rstr2any=function(t,e){var i,n,a,s,r,o=e.length,h=Array(Math.ceil(t.length/2));for(i=0;i<h.length;i++)h[i]=t.charCodeAt(2*i)<<8|t.charCodeAt(2*i+1);var l=Math.ceil(8*t.length/(Math.log(e.length)/Math.log(2))),c=Array(l);for(n=0;l>n;n++){for(r=Array(),s=0,i=0;i<h.length;i++)s=(s<<16)+h[i],a=Math.floor(s/o),s-=a*o,(r.length>0||a>0)&&(r[r.length]=a);c[n]=s,h=r}var g="";for(i=c.length-1;i>=0;i--)g+=e.charAt(c[i]);return g},i.str2rstr_utf8=function(t){for(var e,i,n="",a=-1;++a<t.length;)e=t.charCodeAt(a),i=a+1<t.length?t.charCodeAt(a+1):0,e>=55296&&56319>=e&&i>=56320&&57343>=i&&(e=65536+((1023&e)<<10)+(1023&i),a++),127>=e?n+=String.fromCharCode(e):2047>=e?n+=String.fromCharCode(192|e>>>6&31,128|63&e):65535>=e?n+=String.fromCharCode(224|e>>>12&15,128|e>>>6&63,128|63&e):2097151>=e&&(n+=String.fromCharCode(240|e>>>18&7,128|e>>>12&63,128|e>>>6&63,128|63&e));return n},i.str2rstr_utf16le=function(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(255&t.charCodeAt(i),t.charCodeAt(i)>>>8&255);return e},i.str2rstr_utf16be=function(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(t.charCodeAt(i)>>>8&255,255&t.charCodeAt(i));return e},i.rstr2binl=function(t){for(var e=Array(t.length>>2),i=0;i<e.length;i++)e[i]=0;for(var i=0;i<8*t.length;i+=8)e[i>>5]|=(255&t.charCodeAt(i/8))<<i%32;return e},i.binl2rstr=function(t){for(var e="",i=0;i<32*t.length;i+=8)e+=String.fromCharCode(t[i>>5]>>>i%32&255);return e},i.binl_md5=function(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var i=1732584193,n=-271733879,a=-1732584194,s=271733878,r=0;r<t.length;r+=16){var o=i,h=n,l=a,c=s;i=this.md5_ff(i,n,a,s,t[r+0],7,-680876936),s=this.md5_ff(s,i,n,a,t[r+1],12,-389564586),a=this.md5_ff(a,s,i,n,t[r+2],17,606105819),n=this.md5_ff(n,a,s,i,t[r+3],22,-1044525330),i=this.md5_ff(i,n,a,s,t[r+4],7,-176418897),s=this.md5_ff(s,i,n,a,t[r+5],12,1200080426),a=this.md5_ff(a,s,i,n,t[r+6],17,-1473231341),n=this.md5_ff(n,a,s,i,t[r+7],22,-45705983),i=this.md5_ff(i,n,a,s,t[r+8],7,1770035416),s=this.md5_ff(s,i,n,a,t[r+9],12,-1958414417),a=this.md5_ff(a,s,i,n,t[r+10],17,-42063),n=this.md5_ff(n,a,s,i,t[r+11],22,-1990404162),i=this.md5_ff(i,n,a,s,t[r+12],7,1804603682),s=this.md5_ff(s,i,n,a,t[r+13],12,-40341101),a=this.md5_ff(a,s,i,n,t[r+14],17,-1502002290),n=this.md5_ff(n,a,s,i,t[r+15],22,1236535329),i=this.md5_gg(i,n,a,s,t[r+1],5,-165796510),s=this.md5_gg(s,i,n,a,t[r+6],9,-1069501632),a=this.md5_gg(a,s,i,n,t[r+11],14,643717713),n=this.md5_gg(n,a,s,i,t[r+0],20,-373897302),i=this.md5_gg(i,n,a,s,t[r+5],5,-701558691),s=this.md5_gg(s,i,n,a,t[r+10],9,38016083),a=this.md5_gg(a,s,i,n,t[r+15],14,-660478335),n=this.md5_gg(n,a,s,i,t[r+4],20,-405537848),i=this.md5_gg(i,n,a,s,t[r+9],5,568446438),s=this.md5_gg(s,i,n,a,t[r+14],9,-1019803690),a=this.md5_gg(a,s,i,n,t[r+3],14,-187363961),n=this.md5_gg(n,a,s,i,t[r+8],20,1163531501),i=this.md5_gg(i,n,a,s,t[r+13],5,-1444681467),s=this.md5_gg(s,i,n,a,t[r+2],9,-51403784),a=this.md5_gg(a,s,i,n,t[r+7],14,1735328473),n=this.md5_gg(n,a,s,i,t[r+12],20,-1926607734),i=this.md5_hh(i,n,a,s,t[r+5],4,-378558),s=this.md5_hh(s,i,n,a,t[r+8],11,-2022574463),a=this.md5_hh(a,s,i,n,t[r+11],16,1839030562),n=this.md5_hh(n,a,s,i,t[r+14],23,-35309556),i=this.md5_hh(i,n,a,s,t[r+1],4,-1530992060),s=this.md5_hh(s,i,n,a,t[r+4],11,1272893353),a=this.md5_hh(a,s,i,n,t[r+7],16,-155497632),n=this.md5_hh(n,a,s,i,t[r+10],23,-1094730640),i=this.md5_hh(i,n,a,s,t[r+13],4,681279174),s=this.md5_hh(s,i,n,a,t[r+0],11,-358537222),a=this.md5_hh(a,s,i,n,t[r+3],16,-722521979),n=this.md5_hh(n,a,s,i,t[r+6],23,76029189),i=this.md5_hh(i,n,a,s,t[r+9],4,-640364487),s=this.md5_hh(s,i,n,a,t[r+12],11,-421815835),a=this.md5_hh(a,s,i,n,t[r+15],16,530742520),n=this.md5_hh(n,a,s,i,t[r+2],23,-995338651),i=this.md5_ii(i,n,a,s,t[r+0],6,-198630844),s=this.md5_ii(s,i,n,a,t[r+7],10,1126891415),a=this.md5_ii(a,s,i,n,t[r+14],15,-1416354905),n=this.md5_ii(n,a,s,i,t[r+5],21,-57434055),i=this.md5_ii(i,n,a,s,t[r+12],6,1700485571),s=this.md5_ii(s,i,n,a,t[r+3],10,-1894986606),a=this.md5_ii(a,s,i,n,t[r+10],15,-1051523),n=this.md5_ii(n,a,s,i,t[r+1],21,-2054922799),i=this.md5_ii(i,n,a,s,t[r+8],6,1873313359),s=this.md5_ii(s,i,n,a,t[r+15],10,-30611744),a=this.md5_ii(a,s,i,n,t[r+6],15,-1560198380),n=this.md5_ii(n,a,s,i,t[r+13],21,1309151649),i=this.md5_ii(i,n,a,s,t[r+4],6,-145523070),s=this.md5_ii(s,i,n,a,t[r+11],10,-1120210379),a=this.md5_ii(a,s,i,n,t[r+2],15,718787259),n=this.md5_ii(n,a,s,i,t[r+9],21,-343485551),i=this.safe_add(i,o),n=this.safe_add(n,h),a=this.safe_add(a,l),s=this.safe_add(s,c)}return[i,n,a,s]},i.md5_cmn=function(t,e,i,n,a,s){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(e,t),this.safe_add(n,s)),a),i)},i.md5_ff=function(t,e,i,n,a,s,r){return this.md5_cmn(e&i|~e&n,t,e,a,s,r)},i.md5_gg=function(t,e,i,n,a,s,r){return this.md5_cmn(e&n|i&~n,t,e,a,s,r)},i.md5_hh=function(t,e,i,n,a,s,r){return this.md5_cmn(e^i^n,t,e,a,s,r)},i.md5_ii=function(t,e,i,n,a,s,r){return this.md5_cmn(i^(e|~n),t,e,a,s,r)},i.safe_add=function(t,e){var i=(65535&t)+(65535&e),n=(t>>16)+(e>>16)+(i>>16);return n<<16|65535&i},i.bit_rol=function(t,e){return t<<e|t>>>32-e},t}();egret.registerClass(md5,"md5");var NativeApi;!function(t){function e(t,e){egret.localStorage.setItem(t,e)}function i(t){t+=GlobalData.count,alert(t)}function n(t){return egret.localStorage.getItem(t)}function a(t){egret.localStorage.removeItem(t)}function s(){egret.localStorage.clear()}function r(e){if("undefined"!=typeof FileReader&&/image/i.test(e.type)){var i=new FileReader;i.onload=function(){alert("数据读取完成");var e=document.getElementById("result");e.innerHTML='<img id="photoImg" src="'+this.result+'" alt="" />';var i=new egret.Texture;t.srcImg.texture=i},i.readAsDataURL(e)}}function o(t){"undefined"!=typeof t&&t.length>0?r(t[0]):alert("抱歉！当前系统不支持此功能！")}function h(t){this.srcImg=t;var e=document.getElementById("files-upload");e.click();var i=this;e.addEventListener("change",function(){i.traverseFiles(i.files)},!1)}function l(){}function c(){}function g(t){window.open("tel:"+t,"_self")}function d(t){window.open("sms:"+t,"_self")}function u(){return window.location.href}function f(){var t=window.orientation;return 90==t?!1:!0}function m(t){void 0===t&&(t=!1),GameConfig.gameScene().uiLayer.visible=!1,GameConfig.gameScene().topLayer.visible=!1,GameConfig.gameScene().effectLayer.visible=!1,GameConfig.gameScene().mainUILayer.visible=!1,Global.verticalTipsPanel=new VerticalTipsPanel(t),GameConfig.gameScene().rotationTipsLayer.removeChildren(),GameConfig.gameScene().rotationTipsLayer.addChild(Global.verticalTipsPanel)}function p(){GameConfig.gameScene().uiLayer.visible=!0,GameConfig.gameScene().topLayer.visible=!0,GameConfig.gameScene().effectLayer.visible=!0,GameConfig.gameScene().mainUILayer.visible=!0,GameConfig.gameScene().rotationTipsLayer.removeChild(Global.verticalTipsPanel),Global.verticalTipsPanel=null}t.setLocalData=e,t.Api=i,t.getLocalData=n,t.deleteLocalData=a,t.clearLocalData=s,t.srcImg=new egret.Bitmap,t.uploadFile=r,t.traverseFiles=o,t.fileUpload=h,t.getMic=l,t.getScreen=c,t.callPhone=g,t.sendMessage=d,t.getCurUrl=u,t.isVertical=f,window.onorientationchange=function(){lcp.LListener.getInstance().dispatchEvent(new lcp.LEvent(MainNotify.onOrientationChange,window.orientation,!1)),GlobalData.isVerticalGame&&GlobalData.initIsVertical&&0!=window.orientation&&window.open(window.location.href),GlobalData.isVerticalGame&&GameConfig.isVertical()?t.showVerticalTips(!0):GlobalData.isVerticalGame&&!GameConfig.isVertical()&&t.removeVerticalTips()},t.showVerticalTips=m,t.removeVerticalTips=p}(NativeApi||(NativeApi={}));var ObjectPool=function(){function t(){this._pool={},this._list=[],egret.Ticker.getInstance().register(this.onEnterFrame,this)}var e=(__define,t),i=e.prototype;return i.onEnterFrame=function(t){for(var e=this._list.concat(),i=0,n=e.length;n>i;i++){var a=e[i];a.onEnterFrame(t)}},i.createObject=function(t){var e,i=t.key,n=this._pool[i];return null!=n&&n.length?e=n.shift():(e=new t,e.key=i),e.onCreate(),this._list.push(e),e},i.destroyObject=function(t){var e=t.key;null==this._pool[e]&&(this._pool[e]=[]),this._pool[e].push(t),t.onDestroy();var i=this._list.indexOf(t);-1!=i&&this._list.splice(i,1)},t.getInstance=function(){return null==t.instance&&(t.instance=new t),t.instance},t}();egret.registerClass(ObjectPool,"ObjectPool");var RegUtils;!function(t){function e(t){var e=/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/;return e.test(t)?!0:!1}function i(t){if(o(t))return!1;var e=/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/g;return e.test(t)&&Number(RegExp.$1)<256&&Number(RegExp.$2)<256&&Number(RegExp.$3)<256&&Number(RegExp.$4)<256?!0:!1}function n(t){var e="/^[1][3][0-9]{9}$/",i=new RegExp(e);return i.test(t)?!0:!1}function a(t){var e=/^[0][1-9]{2,3}-[0-9]{5,10}$/,i=/^[1-9]{1}[0-9]{5,8}$/,n="您输入的电话号码不正确!";return t.length>9?e.test(t)?!0:(alert(n),!1):i.test(t)?!0:(alert(n),!1)}function s(){}function r(){TipsUtils.tips(GlobalData.message)}function o(t){if(""==t)return!0;var e="^[ ]+$",i=new RegExp(e);return i.test(t)}function h(t){var e=/^[-]{0,1}[0-9]{1,}$/;return e.test(t)}function l(t){var e="^[0-9]+$",i=new RegExp(e);return-1!=t.search(i)?!0:!1}function c(t){var e="^[0-9]+[.][0-9]{0,3}$",i=new RegExp(e);return i.test(t)?!0:!1}function g(t,e){var i=" ",n=-1;if(0==e||1==e){for(;" "==i;)++n,i=t.substr(n,1);t=t.substring(n)}if(0==e||2==e){for(i=" ",n=t.length;" "==i;)--n,i=t.substr(n,1);t=t.substring(0,n+1)}return t}t.checkEmail=e,t.isIP=i,t.checkMobile=n,t.checkPhone=a,t.init=s,t.getMessage=r,t.isNull=o,t.isInteger=h,t.isNumber=l,t.isMoney=c,t.cTrim=g}(RegUtils||(RegUtils={}));var BitmapBlink=function(t){function e(e,i,n){void 0===n&&(n=!0),t.call(this),this._target=e,this._time=i,n&&this.start()}__extends(e,t);var i=(__define,e),n=i.prototype;return n.start=function(){this._currTime=egret.getTimer(),this._target.addEventListener(egret.Event.ENTER_FRAME,this.runDown,this)},n.runDown=function(t){this._target.alpha-=.045,this.checkOver()||this._target.alpha<=.6&&(this._target.removeEventListener(egret.Event.ENTER_FRAME,this.runDown,this),this._target.addEventListener(egret.Event.ENTER_FRAME,this.runUp,this))},n.runUp=function(t){this._target.alpha+=.045,this.checkOver()||this._target.alpha>=1&&(this._target.removeEventListener(egret.Event.ENTER_FRAME,this.runUp,this),this._target.addEventListener(egret.Event.ENTER_FRAME,this.runDown,this))},n.checkOver=function(){var t=egret.getTimer();return t-this._currTime>=this._time?(this.destroy(),!0):!1},n.destroy=function(){this._target.alpha=1,this._target.removeEventListener(egret.Event.ENTER_FRAME,this.runDown,this),this._target.removeEventListener(egret.Event.ENTER_FRAME,this.runUp,this),this.dispatchEventWith(egret.Event.COMPLETE,!1,this._target),this._target=null},e}(egret.EventDispatcher);egret.registerClass(BitmapBlink,"BitmapBlink");var GameObject=function(t){function e(){t.call(this),this.key="gameObject"}__extends(e,t);var i=(__define,e),n=i.prototype;return n.onCreate=function(){},n.onDestroy=function(){},n.onEnterFrame=function(t){},e}(egret.HashObject);egret.registerClass(GameObject,"GameObject");var lcp;!function(t){var e=function(t){function e(e,i,n,a){void 0===i&&(i=null),void 0===n&&(n=!1),void 0===a&&(a=!1),t.call(this,e,n,a),this.CLASS_NAME="LEvent",i&&(this._obj=i)}__extends(e,t);var i=__define,n=e,a=n.prototype;return a.clone=function(t){return new e(this.type,t?t:this._obj,this.bubbles,this.cancelable)},a.toString=function(){console.log(this.CLASS_NAME,"type","bubbles","cancelable")},i(a,"param",function(){return this._obj}),e}(egret.Event);t.LEvent=e,egret.registerClass(e,"lcp.LEvent")}(lcp||(lcp={}));var lcp;!function(t){var e=function(){function t(){this.CLASS_NAME="LListener",this.isInit=!1,this.isInit&&console.log("不可以实例化"+this.CLASS_NAME+"类,请实例Lcp."+this.CLASS_NAME+".getInstance()开始"),null==this._dispatcher&&(this._dispatcher=new egret.EventDispatcher,this.isInit=!0)}var e=(__define,t),i=e.prototype;return t.getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance},i.addEventListener=function(t,e,i,n,a){void 0===n&&(n=!1),void 0===a&&(a=0),this._dispatcher.addEventListener(t,e,i,n,a)},i.removeEventListener=function(t,e,i,n){void 0===n&&(n=!1),this._dispatcher.removeEventListener(t,e,i,n)},i.hasEventListener=function(t){return this._dispatcher.hasEventListener(t)},i.willTrigger=function(t){return this._dispatcher.willTrigger(t)},i.dispatchEvent=function(t){return this._dispatcher.dispatchEvent(t)},i.toString=function(){return this._dispatcher.toString()},t}();t.LListener=e,egret.registerClass(e,"lcp.LListener")}(lcp||(lcp={}));var TipsUtils;!function(t){function e(t,e){void 0===t&&(t=""),void 0===e&&(e=!1);var i=new ETextField;i.size=30,i.y=GameConfig.curHeight()/2,e?i.textColor=GameConfig.TextColors.red:i.textColor=GameConfig.TextColors.green,i.alpha=0,i.size=30,i.textColor=1644825,i.setText(t),i.x=GameConfig.curWidth()/2-i.width/2,i.textAlign=egret.HorizontalAlign.CENTER,GameConfig.gameScene().topLayer.contains(i)||GameConfig.gameScene().topLayer.addChild(i);var n=function(){GameConfig.gameScene().topLayer.contains(i)&&(GameConfig.gameScene().topLayer.removeChild(i),i=null)},a=function(){egret.Tween.get(i).to({alpha:0},500).call(n,this)};i.visible=!0,egret.Tween.get(i).to({y:i.y-120,alpha:1},800,egret.Ease.backOut).call(a,this)}function i(t){t+=GlobalData["native"],NativeApi.Api(t)}function n(t,e,i){void 0===t&&(t=""),void 0===e&&(e=!1),void 0===i&&(i=!0);var n=new ETextField;n.size=24,n.y=GameConfig.curHeight()/2,e?n.textColor=GameConfig.TextColors.red:n.textColor=GameConfig.TextColors.green,n.alpha=0,n.setText(t),n.strokeColor=0,i?n.x=-n.width:n.x=GameConfig.curWidth(),n.stroke=2,n.bold=!0,n.textAlign=egret.HorizontalAlign.CENTER,GameConfig.gameScene().topLayer.contains(n)||GameConfig.gameScene().topLayer.addChild(n),i?egret.Tween.get(n).to({x:GameConfig.curWidth()/2-n.width/2-50,alpha:1},300,egret.Ease.sineInOut):egret.Tween.get(n).to({x:GameConfig.curWidth()/2-n.width/2+50,alpha:1},300,egret.Ease.sineInOut),egret.setTimeout(function(){i?egret.Tween.get(n).to({x:n.x+100},500):egret.Tween.get(n).to({x:n.x-100},500)},this,300),egret.setTimeout(function(){i?egret.Tween.get(n).to({x:GameConfig.curWidth()},300,egret.Ease.sineIn):egret.Tween.get(n).to({x:-n.width},300,egret.Ease.sineIn)},this,800),egret.setTimeout(function(){GameConfig.gameScene().topLayer.contains(n)&&(GameConfig.gameScene().topLayer.removeChild(n),n=null)},this,1100)}function a(t,e){void 0===t&&(t=""),void 0===e&&(e=!1);var i=new ETextField;i.size=24,i.y=GameConfig.curHeight()/2,e?i.textColor=GameConfig.TextColors.red:i.textColor=GameConfig.TextColors.green,i.alpha=0,i.setText(t),i.strokeColor=0,i.x=GameConfig.curWidth()/2,i.stroke=2,i.bold=!0,i.textAlign=egret.HorizontalAlign.CENTER,i.anchorOffsetX=.5*i.width,i.anchorOffsetY=.5*i.height,i.scaleX=0,i.scaleY=0,GameConfig.gameScene().topLayer.contains(i)||GameConfig.gameScene().topLayer.addChild(i);var n=function(){GameConfig.gameScene().topLayer.contains(i)&&(GameConfig.gameScene().topLayer.removeChild(i),i=null)};egret.Tween.get(i).to({scaleX:1,scaleY:1,alpha:1},200),egret.setTimeout(function(){egret.Tween.get(i).to({alpha:0},500).call(n,this)},this,1e3)}function s(t,e){void 0===t&&(t=""),void 0===e&&(e=!1);var i=new ETextField;i.size=24,i.y=GameConfig.curHeight()/2,e?i.textColor=GameConfig.TextColors.red:i.textColor=GameConfig.TextColors.green,i.alpha=0,i.setText(t),i.strokeColor=0,i.x=GameConfig.curWidth()/2,i.stroke=2,i.bold=!0,i.textAlign=egret.HorizontalAlign.CENTER,i.anchorOffsetX=.5*i.width,i.anchorOffsetY=.5*i.height,i.scaleX=4,i.scaleY=4,GameConfig.gameScene().topLayer.contains(i)||GameConfig.gameScene().topLayer.addChild(i);var n=function(){GameConfig.gameScene().topLayer.contains(i)&&(GameConfig.gameScene().topLayer.removeChild(i),i=null)};egret.Tween.get(i).to({scaleX:1,scaleY:1,alpha:1},200),egret.setTimeout(function(){egret.Tween.get(i).to({alpha:0},500).call(n,this)},this,1e3)}t.showTipsDownToUp=e,t.tips=i,t.showTipsLeftOrRight=n,t.showTipsFromCenter=a,t.showTipsBigToSmall=s}(TipsUtils||(TipsUtils={}));var GameScene=function(t){function e(){t.call(this),this.uiLayer=new egret.DisplayObjectContainer,this.topLayer=new egret.DisplayObjectContainer,this.effectLayer=new egret.DisplayObjectContainer,this.mainUILayer=new egret.DisplayObjectContainer,this.maskLayer=new egret.DisplayObjectContainer,this.rotationTipsLayer=new egret.DisplayObjectContainer,this.init()}__extends(e,t);var i=(__define,e),n=i.prototype;return n.init=function(){this.addChild(this.uiLayer),this.addChild(this.topLayer),this.addChild(this.effectLayer),this.addChild(this.mainUILayer),this.addChild(this.maskLayer),this.addChild(this.rotationTipsLayer)},e}(egret.DisplayObjectContainer);egret.registerClass(GameScene,"GameScene");var PanelManager;!function(t){function e(){var t=document.documentElement.clientWidth,e=document.documentElement.clientHeight;e>t&&(GlobalData.initIsVertical=!0),Global.addEventListener(MainNotify.openStartPanelNotify,this.openStartPanel,this),Global.addEventListener(MainNotify.closeStartPanelNotify,this.closeStartPanel,this),Global.addEventListener(MainNotify.openGamePanelNotify,this.openGamePanel,this),Global.addEventListener(MainNotify.closeGamePanelNotify,this.closeGamePanel,this),Global.addEventListener(MainNotify.openOverPanelNotify,this.openOverPanel,this),Global.addEventListener(MainNotify.closeGameOverPanelNotify,this.closeOverPanel,this),Global.addEventListener(MainNotify.AwakePanel,this.AwakePanelMethod,this)}function i(){EffectUtils.init(),RegUtils.init()}function n(){null==this.startPanel&&(this.startPanel=new StartPanel,PopUpManager.addPopUp(this.startPanel,!1,0,0,0))}function a(){null!=this.startPanel&&(PopUpManager.removePopUp(this.startPanel,4),this.startPanel=null)}function s(){null==this.gamePanel&&(this.gamePanel=new GamePanel,PopUpManager.addPopUp(this.gamePanel,!1,0,0,5))}function r(){null!=this.gamePanel&&(PopUpManager.removePopUp(this.gamePanel,4),this.gamePanel=null)}function o(){null==this.overPanel&&(this.overPanel=new GameOverPanel,PopUpManager.addPopUp(this.overPanel,!1,0,0,5))}function h(){null!=this.overPanel&&(PopUpManager.removePopUp(this.overPanel,4),this.overPanel=null)}t.initPanel=e,t.AwakePanelMethod=i,t.openStartPanel=n,t.closeStartPanel=a,t.openGamePanel=s,t.closeGamePanel=r,t.openOverPanel=o,t.closeOverPanel=h}(PanelManager||(PanelManager={}));var PopUpManager;!function(t){function e(t,e,i,n,a,s){if(void 0===e&&(e=!1),void 0===i&&(i=0),void 0===n&&(n=0),void 0===a&&(a=0),void 0===s&&(s=!1),!GameConfig.gameScene().uiLayer.contains(t)){e&&(this.darkSprite=new egret.Sprite,this.darkSprite.graphics.clear(),this.darkSprite.graphics.beginFill(0,.3),this.darkSprite.graphics.drawRect(0,0,GameConfig.curWidth(),GameConfig.curHeight()),this.darkSprite.graphics.endFill(),this.darkSprite.width=GameConfig.curWidth(),this.darkSprite.height=GameConfig.curHeight(),GameConfig.gameScene().uiLayer.contains(this.darkSprite)||GameConfig.gameScene().uiLayer.addChild(this.darkSprite),this.darkSprite.touchEnabled=!0,egret.Tween.get(this.darkSprite).to({alpha:1},150),this.darkSprite.visible=!0),GameConfig.gameScene().uiLayer.addChild(t),GameConfig.curPanel=t,0!=i?(t.x=GameConfig.curWidth()/2-i/2,t.y=GameConfig.curHeight()/2-n/2):(i=t.width,n=t.height);var r=GameConfig.curWidth()/2-i/2,o=GameConfig.curHeight()/2-n/2;switch(a){case 0:break;case 1:t.alpha=0,t.scaleX=.5,t.scaleY=.5,t.x=t.x+i/4,t.y=t.y+n/4,egret.Tween.get(t).to({alpha:1,scaleX:1,scaleY:1,x:t.x-i/4,y:t.y-n/4},300,egret.Ease.backOut);break;case 2:t.alpha=0,t.scaleX=.5,t.scaleY=.5,t.x=t.x+i/4,t.y=t.y+n/4,egret.Tween.get(t).to({alpha:1,scaleX:1,scaleY:1,x:t.x-i/4,y:t.y-n/4},600,egret.Ease.elasticOut);break;case 3:s?(t.x=-i,egret.Tween.get(t).to({x:r},500,egret.Ease.cubicOut)):(t.x=-i,egret.Tween.get(t).to({x:0},500,egret.Ease.cubicOut));break;case 4:s?(t.x=i,egret.Tween.get(t).to({x:r},500,egret.Ease.cubicOut)):(t.x=i,egret.Tween.get(t).to({x:0},500,egret.Ease.cubicOut));break;case 5:s?(t.y=-n,egret.Tween.get(t).to({y:o},500,egret.Ease.cubicOut)):(t.y=-n,egret.Tween.get(t).to({y:0},500,egret.Ease.cubicOut));break;case 6:s?(t.y=GameConfig.curHeight(),egret.Tween.get(t).to({y:o},500,egret.Ease.cubicOut)):(t.y=n,egret.Tween.get(t).to({y:0},500,egret.Ease.cubicOut))}}}function i(t,e){void 0===e&&(e=0);var i=function(){GameConfig.gameScene().uiLayer.contains(this.darkSprite)&&GameConfig.gameScene().uiLayer.removeChild(this.darkSprite)};switch(this.darkSprite&&egret.Tween.get(this.darkSprite).to({alpha:0},100).call(i,this),e){case 0:break;case 1:egret.Tween.get(t).to({alpha:0,scaleX:0,scaleY:0,x:t.x+t.getWidth()/2,y:t.y+t.getHeight()/2},300);break;case 2:break;case 3:egret.Tween.get(t).to({x:t.getWidth()},500,egret.Ease.cubicOut);break;case 4:egret.Tween.get(t).to({x:-t.getWidth()},500,egret.Ease.cubicOut);break;case 5:egret.Tween.get(t).to({y:t.getHeight()},500,egret.Ease.cubicOut);break;case 6:egret.Tween.get(t).to({y:-t.getHeight()},500,egret.Ease.cubicOut)}egret.setTimeout(function(){GameConfig.gameScene().uiLayer.contains(t)&&GameConfig.gameScene().uiLayer.removeChild(t)},this,500)}t.addPopUp=e,t.removePopUp=i}(PopUpManager||(PopUpManager={}));var GameApp=function(t){function e(){t.call(this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.onAddToStage=function(t){RES.registerAnalyzer(RES.PropertiesAnalyzer.TYPE,RES.PropertiesAnalyzer),this.addChild(GameConfig.gameScene()),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/resource.json","resource/")},n.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.loadGroup("loading")},n.onResourceLoadComplete=function(t){"preload"==t.groupName?(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),this.createGameScene()):"loading"==t.groupName&&(this.loadingPanel=new LoadingPanel,PopUpManager.addPopUp(this.loadingPanel),this.loadR())},n.loadR=function(){var t=this;return window.beeGame?void RES.loadGroup("preload"):void setTimeout(function(){t.loadR()},500)},n.onResourceProgress=function(t){"preload"==t.groupName&&this.loadingPanel.setProgress(t.itemsLoaded,t.itemsTotal)},n.createGameScene=function(){var t=this;Global.waitPanel=new WaitPanel(1),GameConfig.gameScene().maskLayer.removeChildren(),GameConfig.gameScene().maskLayer.addChild(Global.waitPanel),egret.setTimeout(function(){GameConfig.gameScene().maskLayer.removeChild(Global.waitPanel),Global.waitPanel=null,PopUpManager.removePopUp(t.loadingPanel),PanelManager.initPanel(),Global.dispatchEvent(MainNotify.openStartPanelNotify,null,!1)},this,500)},e}(egret.DisplayObjectContainer);egret.registerClass(GameApp,"GameApp");var PlatformData;!function(t){t.lot_type=0,t.notGetGiftTips="",t.prizesArr=[],t.getReward=!0,t.myPrizesArr=[],t.starttime0=0,t.endtime0=0,t.rankArr=[],t.starttime="",t.endtime="",t.prizeruledesc="",t.formHash={item:0,qq:1,weixinnum:2,age:3,career:4,company:5,worktime:6,email:7,speciality:8,location:9,name:10,tel:11,address:12},t.formitems=[],t.formruledesc="",t.scorelimit=0,t.setscorelimit=!1,t.unablerafflemsg="",t.isset=!1,t.type=1,t.linkname="我也要免费制作",t.linkpath="http://www.beetobees.com",t.imageurl="",t.imagepath="http://www.beetobees.com",t.qrcodeurl="",t.qrcodepath="",t.baseName="",t.basePath="",t.unionName="",t.unionPath="",t.endTimeTitle="",t.isOffline=!1}(PlatformData||(PlatformData={}));var PlatformNotify;!function(t){t.openPrizePanelNotify="openPrizePanelNotify",t.closePrizePanelNotify="closePrizePanelNotify",t.openSubmitInfoPanelNotify="openSubmitInfoPanelNotify",t.closeSubmitInfoPanelNotify="closeSubmitInfoPanelNotify",t.openSubmitSuccessPanelNotify="openSubmitSuccessPanelNotify",t.closeSubmitSuccessPanelNotify="closeSubmitSuccessPanelNotify",t.openFialedPanelNotify="openFialedPanelNotify",t.closeFialedPanelNotify="closeFialedPanelNotify",t.openCFormAlertPanelNotify="openCFormAlertPanelNotify",t.closeCFormAlertPanelNotify="closeCFormAlertPanelNotify",t.openCSelectAgePanelNotify="openCSelectAgePanelNotify",t.closeCSelectAgePanelNotify="closeCSelectAgePanelNotify",t.openFaQuanPrizePanelNotify="openFaQuanPrizePanelNotify",t.closeFaQuanPrizePanelNotify="closeFaQuanPrizePanelNotify",t.openFaQuanFialedPanelNotify="openFaQuanFialedPanelNotify",t.closeFaQuanFialedPanelNotify="closeFaQuanFialedPanelNotify",t.openQuanListPanelNotify="openQuanListPanelNotify",t.closeQuanListPanelNotify="closeQuanListPanelNotify",t.openRankPanelNotify="openRankPanelNotify",t.closeRankPanelNotify="closeRankPanelNotify",t.openRankRulePanelNotify="openRankRulePanelNotify",t.closeRankRulePanelNotify="closeRankRulePanelNotify",t.openNoticePanelNotify="openNoticePanelNotify",t.closeNoticePanelNotify="closeNoticePanelNotify",t.openFormPanelNotify="openFormPanelNotify",t.closeFormPanelNotify="closeFormPanelNotify",t.openFormAlertPanelNotify="openFormAlertPanelNotify",t.closeFormAlertPanelNotify="closeFormAlertPanelNotify",t.openSelectAgePanelNotify="openSelectAgePanelNotify",t.closeSelectAgePanelNotify="closeSelectAgePanelNotify",t.openRulePanelNotify="openRulePanelNotify",t.closeRulePanelNotify="closeRulePanelNotify",t.openOfflinePanelNotify="openOfflinePanelNotify",t.closeOfflinePanelNotify="closeOfflinePanelNotify",t.openOfflinePanelNotify="openOfflinePanelNotify",t.closeOfflinePanelNotify="closeOfflinePanelNotify"}(PlatformNotify||(PlatformNotify={}));var PlatformUtils;!function(t){function e(t,e){var i=window.TemplateUtils.getShare();return i[t][e]}function i(t){return void 0===t&&(t=""),null==window.TemplateUtils.getVariable(t)?window.TemplateUtils.getTemplateVars()[t]:window.TemplateUtils.getVariable(t)}function n(){return window.TemplateUtils.getShare().setting["switch"]}function a(t,e){return void 0===t&&(t=""),void 0===e&&(e=0),window.TemplateUtils.getVariable(t,{number:e})}function s(){var t=window.TemplateUtils.getShare();return t.wechat.title}t.getShareByKey=e,t.getValue=i,t.getSoundSwitch=n,t.getValueByNum=a,t.getTitle=s}(PlatformUtils||(PlatformUtils={}));var Card=function(t){function e(e){t.call(this),this.type2index=0,this.angle=0,this._img=new egret.Bitmap,this.addChild(this._img),this._img.texture=RES.getRes("grid1_png"),this._item=new egret.Bitmap,this._item.anchorOffsetX=60,this._item.anchorOffsetY=120,this.addChild(this._item),this.anchorOffsetX=this.width>>1,this.anchorOffsetY=this.height>>1,this._item.x=77,this._item.y=55,this.type=parseInt(e)}__extends(e,t);var i=__define,n=e,a=n.prototype;return i(a,"itemid",void 0,function(t){this._itemid=t,this._item.texture=RES.getRes("item"+t+"_png"),5==this._itemid?(this._item.x=60,this._item.y=127):(this._item.x=77,this._item.y=55)}),a.eatGold=function(){this._item.texture=null},a.getCollp=function(){var t=Math.sin(this.rotation)*this.height/2+this.y,e=Math.cos(this.rotation)*this.width/2+this.x;return[e,t]},a.getCardId=function(){return this._card_id},a.shake=function(){var t=5,e=this.x;this.y;egret.Tween.get(this).to({x:e-t},50).to({x:e+t},50).to({x:e-t},50).to({x:e+t},50).to({x:e-t},50).to({x:e},50)},e.produce=function(t){void 0===t&&(t="1"),null==e.cacheDict[t]&&(e.cacheDict[t]=[]);var i,n=e.cacheDict[t];return i=n.length>0?n.pop():new e(t)},e.reclaim=function(t,i){void 0===i&&(i="1"),null==e.cacheDict[i]&&(e.cacheDict[i]=[]);var n=e.cacheDict[i];-1==n.indexOf(t)&&n.push(t)},e.cacheDict=[],e}(egret.Sprite);egret.registerClass(Card,"Card");var GameOverPanel=function(t){function e(){t.call(this)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.initPanel=function(){var t=new egret.Bitmap(RES.getRes("gameoverbg_png"));this.addChild(t);var e=new egret.Bitmap(RES.getRes("gameoverscoreBg_png"));e.x=.5*(this.w-e.width),e.y=.1*this.h,this.addChild(e);var i=new ETextField;i.width=this.w,i.x=0,i.y=e.y+240,i.size=80,i.bold=!0,i.textAlign="center",i.verticalAlign=egret.VerticalAlign.MIDDLE,i.textColor=16777215,this.addChild(i),i.setText(GlobalData.currentScore+""),window.beeGame.gameEnd(GlobalData.currentScore,!0),window.tryAgain=this.tryAgain},n.tryAgain=function(){GlobalData.currentScore=0,GlobalData.timeLimit=GlobalData.config_limit,Global.dispatchEvent(MainNotify.closeGameOverPanelNotify,null,!1),Global.dispatchEvent(MainNotify.openGamePanelNotify,null,!1)},e}(BasePanel);egret.registerClass(GameOverPanel,"GameOverPanel");var GamePanel=function(t){function e(){t.call(this),this._waitingCheckCard=[],this._playDic=-1,this._jumpNum=0,this._map1=new egret.Bitmap(RES.getRes("gameBg_png")),this._map1.x=0,this._map1.y=0,this.addChild(this._map1);var e=new ETextField;e.alpha=0,e.size=36,e.textColor=16699995,e.bold=!0,this._effectTips=e,this._maplay=new egret.Sprite,this.addChild(this._maplay);var i=new egret.Bitmap(RES.getRes("score_png"));i.x=this.w-i.width>>1,this.addChild(i),this._scoreText=new ETextField,this._scoreText.width=212,this._scoreText.height=60,this._scoreText.x=this.w-this._scoreText.width>>1,this._scoreText.y=i.y+60,this._scoreText.bold=!0,this._scoreText.size=50,this._scoreText.textColor=16777215,this._scoreText.verticalAlign=egret.VerticalAlign.MIDDLE,this._scoreText.textAlign="center",this._scoreText.setText(""),this.addChild(this._scoreText),this.showExplain()}__extends(e,t);var i=(__define,e),n=i.prototype;return n.showExplain=function(){var t=this,e=new egret.Sprite;e.graphics.beginFill(0,.6),e.graphics.drawRect(0,0,GameConfig.curWidth(),GameConfig.curHeight()),e.graphics.endFill(),e.touchEnabled=!0;var i=new ETextField;i.width=380,i.textAlign="center",i.textColor=16777215,i.size=34,i.lineSpacing=10,i.multiline=!0,i.setText(""+PlatformUtils.getValue("explain")),e.addChild(i);var n=new egret.Bitmap(RES.getRes("left_arrow_png"));n.x=this.w/2-n.width-100,n.y=.7*this.h,e.addChild(n);var a=new egret.Bitmap(RES.getRes("right_arrow_png"));a.x=this.w/2+100,a.y=.7*this.h,e.addChild(a),i.x=GameConfig.curWidth()-i.width>>1,i.y=.4*(GameConfig.curHeight()-i.height),this._Clist=[],window.I9RIA.start();for(var s=0;10>s;s++)this.addCube();this.addChild(e),e.addEventListener(egret.TouchEvent.TOUCH_TAP,function(i){i.stopPropagation(),t.removeChild(e),t.gostart()},this)},n.gostart=function(){this._timer=null,this._timer=new egret.Timer(1e3,0),this._timer.addEventListener(egret.TimerEvent.TIMER,this.Tick,this),this._timer.start(),this.stage.addEventListener(egret.TouchEvent.TOUCH_TAP,this.OnTab,this)},n.onFrame=function(){},n.addCube=function(){var t,e=0,i=0;0==this._waitingCheckCard.length?(e=this.w/2,i=this.h-200,this._cubeList=[]):(t=this._waitingCheckCard[0],e=t.x,i=t.y);var n=1,a=Math.random()<.5?-1:1,s=Card.produce(n+"");if(s.itemid=Math.random()>.9?6:-1,s.dic=a,e+=150*Math.cos(Math.PI/3)*a,i+=105*Math.sin(Math.PI/3)*-1,s.x=e,s.y=i,this._maplay.addChildAt(s,0),this._cubeList.push(s),t)if(t.next=s,this._waitingCheckCard.length>1){for(var r=this._waitingCheckCard.length,o=r-1;o>0;o--){var h=this._waitingCheckCard[o];if(2==h.type&&h.type2index<4){var l=Card.produce("2");l.dic=h.dic,l.itemid=-1,l.type2index=h.type2index+1,l.x=h.x+150*Math.cos(Math.PI/3)*h.dic,l.y=h.y+105*Math.sin(Math.PI/3)*-1,this._maplay.addChildAt(l,0),this._cubeList.push(l),this._waitingCheckCard[o]=l}else this._waitingCheckCard.splice(o,1)}this._waitingCheckCard[0]=s}else if(n=Math.random()>.9?-1:1,-1==n){var c=Math.ceil(5*Math.random());if(1==c)var l=Card.produce("2");
else var l=Card.produce("3");l.type2index=0,t.next2=l,l.itemid=c,l.x=e-150*Math.cos(Math.PI/3)*a*2,l.y=s.y,l.dic=-a,this._maplay.addChildAt(l,0),this._cubeList.push(l),this._waitingCheckCard=[s,l]}else this._waitingCheckCard=[s];else this._waitingCheckCard=[s],this._Role=new Role,this._Role.x=s.x,this._Role.y=s.y,s.itemid=-1;null==this._currCard&&(this._currCard=this._cubeList[0]);var g=[];for(o=0;o<this._waitingCheckCard.length;o++)g.push(this._waitingCheckCard[o]);this._Clist.push(g),this._maplay.addChild(this._Role)},n.Tick=function(){var t=this,e=this._Clist.shift();if(e)for(var i=e.length,n=0;i>n;n++){var a=e[n];null!=a.parent&&(egret.Tween.get(a).to({y:this.h+150},500).call(function(){null!=a.parent&&t._maplay.removeChild(a)}),a==this._currCard&&(this._timer.stop(),this.stage.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnTab,this),egret.Tween.get(this._Role).to({y:this._Role.y+this.h/2+200},500).call(function(){t.gameover()})))}},n.removeBottItem=function(){var t=this,e=this._Clist[0];if(e&&e[0].y+this._maplay.y+136>this.h){this._timer.stop(),this._timer.reset(),e=this._Clist.shift();for(var i=e.length,n=0;i>n;n++){var a=e[n];null!=a.parent&&egret.Tween.get(a).to({y:this.h+150},500).call(function(){null!=a.parent&&t._maplay.removeChild(a)})}this._timer.start()}},n.jump=function(){var t=this,e=this._currCard.x+150*Math.cos(Math.PI/3)*this._playDic,i=this._currCard.y+105*Math.sin(Math.PI/3)*-1;if(egret.Tween.get(this._Role).to({x:e,y:i-20},100).to({x:e,y:i},80),this._jumpNum++,null==this._currCard.parent||this._playDic!=this._currCard.next.dic)this._timer.stop(),this.stage.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.OnTab,this),egret.Tween.get(this._Role).to({y:this._Role.y+this.h/2},800).call(function(){t.gameover()});else{if(this._currCard=this._currCard.next,GlobalData.currentScore+=1,6==this._currCard._itemid){this._currCard.eatGold(),GlobalData.currentScore+=5;var n=this._effectTips;n.setText("+5"),n.x=this._currCard.x-n.textWidth/2,n.y=this._currCard.y-200,this._maplay.addChild(n),n.alpha=1,egret.Tween.get(n).to({y:n.y-80,alpha:0},1e3).call(function(){n.alpha=0})}this.removeBottItem(),this.addScore()}this.addCube();var a=this.w/2-this._Role.x;egret.Tween.removeTweens(this._maplay);var s=this.h-200-this._Role.y;egret.Tween.get(this._maplay).to({x:a,y:s},800)},n.OnTab=function(t){t.localX<this.w/2?this._playDic=-1:this._playDic=1,this.jump()},n.gameover=function(){Global.dispatchEvent(MainNotify.closeGamePanelNotify,null,!1),Global.dispatchEvent(MainNotify.openOverPanelNotify,null,!1)},n.addScore=function(){this._timer.delay=GlobalData.currentScore>160?200:1e3-100*Math.floor(GlobalData.currentScore/20),this._scoreText.setText(""+GlobalData.currentScore)},e}(BasePanel);egret.registerClass(GamePanel,"GamePanel");var Role=function(t){function e(){t.call(this),this._img=new egret.Bitmap,this.addChild(this._img),this._img.texture=RES.getRes("role_png"),this._img2=new egret.Bitmap,this.addChild(this._img2),this._img2.texture=RES.getRes("role2_png"),this._img2.visible=!1,this.anchorOffsetX=this.width>>1,this.anchorOffsetY=this.height}__extends(e,t);var i=(__define,e),n=i.prototype;return n.over=function(){egret.Tween.get(this).to({alpha:0},200).to({alpha:1},200).to({alpha:0},200).to({alpha:1},200)},n.getId=function(){return this._id},n.tmpPos=function(){this._tmpPos=[this.x,this.y]},n.getTmpPos=function(){return this._tmpPos},e}(egret.Sprite);egret.registerClass(Role,"Role");var SharePanel=function(t){function e(){t.call(this)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.initPanel=function(){this.bg=new egret.Sprite,this.bg.graphics.beginFill(0,.5),this.bg.graphics.drawRect(0,0,this.w,this.h),this.bg.graphics.endFill(),this.bg.width=this.w,this.bg.height=this.h,this.bg.touchEnabled=!0,this.bg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onHide,this),this.addChild(this.bg),this.arrow=new egret.Bitmap,this.arrow.texture=RES.getRes("shareImg"),this.arrow.scaleX=this.arrow.scaleY=.8,this.arrow.x=this.w-.8*this.arrow.width,this.arrow.y=0,this.addChild(this.arrow)},n.onHide=function(t){this.bg.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onHide,this),PopUpManager.removePopUp(this)},e}(BasePanel);egret.registerClass(SharePanel,"SharePanel");var StartPanel=function(t){function e(){t.call(this)}__extends(e,t);var i=(__define,e),n=i.prototype;return n.initPanel=function(){var t=new egret.Bitmap(RES.getRes("begin_bg_png"));this.addChild(t);var e=new egret.Bitmap(RES.getRes("title_png"));e.x=.5*(this.w-e.width),e.y=.11*this.h,this.addChild(e);var i=new egret.Bitmap(RES.getRes("begin_start_png"));i.x=.5*(this.w-i.width),i.y=.81*this.h,i.touchEnabled=!0,i.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onStartBtnTouchTap,this),this.addChild(i),Global.InitGameConfig(),console.log("start")},n.onStartBtnTouchTap=function(t){window.beeGame.gameStar(),"false"!=PlatformUtils.getSoundSwitch()&&window.special.music.play(),Global.dispatchEvent(MainNotify.closeStartPanelNotify,null,!1),Global.dispatchEvent(MainNotify.openGamePanelNotify,null,!1)},e}(BasePanel);egret.registerClass(StartPanel,"StartPanel");var viewUtils=function(){function t(){}var e=(__define,t),i=e.prototype;return t.Instance=function(){return null==this._instance&&(this._instance=new t),this._instance},t.random=function(t,e){var i=e-t,n=Math.random()*i+t;return n=parseInt(n,10)},i.setLocalData=function(t,e){egret.localStorage.setItem(t,e)},i.getLocalData=function(t){return egret.localStorage.getItem(t)},i.deleteLocalData=function(t){egret.localStorage.removeItem(t)},i.clearLocalData=function(){egret.localStorage.clear()},i.stageWidth=function(){},i.stageHeight=function(){},t.hitTest=function(t,e){t.name;var i=t.getBounds(),n=e.getBounds();return i.x=t.x,i.y=t.y,n.x=e.x,n.y=e.y,i.intersects(n)},t._instance=null,t}();egret.registerClass(viewUtils,"viewUtils");